{% extends "base.html" %}

{% block content %}
<style>
.form-control {
    display: inline-block;
    width: 200px;
    margin-right: 10px;
}
</style>
<form method="get" action="?movie_title={{ movie_title }}" class="py-4">
    <label for="movie_title" class="form-label">Search by title:</label>
    <input type="search" name="movie_title" class="form-control" id="movie_title" value="{{ movie_title }}">
    <input type="submit" class="btn btn-primary btn-sm">
</form>


{% if count %}
<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">ID</th>
      <th scope="col">Title</th>
      <th scope="col">Genre</th>
      <th scope="col">First Released</th>
      <th scope="col">Rating</th>
    </tr>
  </thead>
  <tbody>
  {% for movie in data %}
    <tr>
      <th scope="row">{{ movie.id }}</th>
      <td>{{ movie.title}}</td>
      <td>{{ movie.genre }}</td>
      <td>{{ movie.released }}</td>
      <td>{{ movie.rating }}</td>
    </tr>
  {% endfor %}
  </tbody>
</table>
{% endif %}
{% if count != 1 %}
    <p>Querry returned {{ count }} results.</p>
{% else %}
    <p>Querry returned {{ count }} result.</p>
{% endif %}

{% endblock content %}